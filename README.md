# cookiecutter-python-project

A **Cookiecutter template** for reproducible Python projects that balances
clean software architecture with labâ€‘friendly conventions.

---

## âœ¨ Key features

* **Opinionated layout** â€“Â `src/`, `conf/`, `notebooks/`, `workflow/`, `metadata/`, â€¦ â€“ tuned for Hydra, Kedro/Snakemake, DVC, and ClickUp/LabArchives automation.
* **Batteries included** â€“ stub `environment.yml`, preâ€‘commit config, CITATION file, Dockerfile (Micromambaâ€‘based), and example metadata CSVs.
* **Fast container builds** â€“ Dockerfile starts from `mambaorg/micromamba`, yielding slim images & quick dependency resolution while your host machine can stick with vanilla Conda.
* **Oneâ€‘command regeneration** â€“ run `./make_cookiecutter.sh` to (re)build the template from scratch, keeping the generator script as the single source of truth.
* **CIâ€‘ready** â€“ template renders cleanly via `cookiecutter --no-input .`; add a GitHub Action to guard against regressions.

---

## ğŸ—‚  Directory layout produced

```text
project/
â”œâ”€â”€ src/{{ pkg_name }}/           # Python package (importable)
â”œâ”€â”€ conf/                         # Hydra configs (default/, experiment/)
â”œâ”€â”€ notebooks/
â”‚   â”œâ”€â”€ exploratory/              # Scratch EDA
â”‚   â”œâ”€â”€ demos/                    # Polished walkthroughs
â”‚   â””â”€â”€ pipelines/                # Papermillâ€‘parameterised
â”œâ”€â”€ data/                         # DVC pointers only
â”œâ”€â”€ metadata/                     # Canonical CSVs (people, projects, deliverables)
â”œâ”€â”€ reference/                    # Goals & supplementary docs (native + Markdown)
â”œâ”€â”€ checklists/                   # YAML/Markdown task lists
â”œâ”€â”€ workflow/                     # Kedro or Snakemake DAG
â”œâ”€â”€ tools/                        # Automation scripts (ClickUp, ELN, â€¦)
â”œâ”€â”€ tests/                        # Pytest suite scaffold
â”œâ”€â”€ docs/                         # MkDocs site stub
â”œâ”€â”€ environment.yml               # Conda env spec (host + container)
â”œâ”€â”€ conda-lock.yml                # Optional lockfile
â”œâ”€â”€ .pre-commit-config.yaml       # Code quality hooks
â”œâ”€â”€ Dockerfile                    # Micromambaâ€‘based
â”œâ”€â”€ dvc.yaml                      # Data pipeline stages
â”œâ”€â”€ CITATION.cff                  # How to cite
â””â”€â”€ README.md                     # Project README (template)
```

---

## ğŸ”§ Prerequisites

| Tool             | Version tested | Notes                         |
| ---------------- | -------------- | ----------------------------- |
| **Cookiecutter** | â‰¥2.2           | `pip install cookiecutter`    |
| **Git**          | any            | for cloning & version control |
| **Conda**        | â‰¥23            | Miniconda/Anaconda            |
| **Docker**       | optional       | only for container builds     |

You **do not need** `mamba` installed locally â€“ the Dockerfile uses **micromamba** *inside* the container only.

---

## ğŸš€ Quickstart

```bash
# 1. Generate a new project (local path or GitHub URL both work)
cookiecutter gh:your-org/cookiecutter-python-project

# 2. Answer the prompts (project name, author, license, â€¦)

# 3. Set up the Conda env
cd my_awesome_project
./setup/setup_env.sh --dev
conda activate dev-env

# 4. Dive in!
pytest      # runs the placeholder test
dvc status  # data pipeline scaffold
```

---

## ğŸ‘·â€â™€ï¸ Maintaining the template

### Regenerate skeleton

The template is entirely generated by **`make_cookiecutter.sh`**. When you edit the script:

```bash
./make_cookiecutter.sh            # wipes & recreates template files
pre-commit run --all-files        # optional lint
pytest -q tests/render            # your own CI hook
```

### Local smoke test

```bash
cookiecutter --no-input .         # renders into ./{{cookiecutter.project_slug}}
pytest -q {{cookiecutter.project_slug}}/tests
```

### Release workflow (example)

```bash
git commit -am "Template: add Tox config"
git tag v0.4.0
git push --tags origin main
```

Consumers can then pin a tag:

```bash
cookiecutter gh:your-org/cookiecutter-python-project --checkout v0.4.0
```

---

## ğŸ“ Customisation guide

* **Hydra defaults** â€“ adjust `conf/default/config.yaml` for labâ€‘wide parameters.
* **Metadata schema** â€“ extend the CSV headers in `metadata/` as canonical sources.
* **Preâ€‘commit** â€“ add isort, black, ruff, nbstripout, etc.
* **CI** â€“ sample GitHub Actions workflow available in `.github/workflows/` (add one!).
* **Container base** â€“ if you prefer classic Conda images, swap `mambaorg/micromamba` for `continuumio/miniconda3` in the Dockerfile.

---

## ğŸ“„ License

This template is released under the **MIT License** (see `LICENSE`).

---

## ğŸ™ Acknowledgements

Inspired by [https://drivendata.co/blog/cookiecutter-data-science/](https://drivendata.co/blog/cookiecutter-data-science/), the Kedro team, and best practices from the openâ€‘source scientific Python community.

---