# cookiecutter-python-project

A **Cookiecutter template** for reproducible Python projects that balances
clean software architecture with lab‑friendly conventions.

---

## ✨ Key features

* **Opinionated layout** – `src/`, `conf/`, `notebooks/`, `workflow/`, `metadata/`, … – tuned for Hydra, Kedro/Snakemake, DVC, and ClickUp/LabArchives automation.
* **Batteries included** – stub `environment.yml`, pre‑commit config, CITATION file, Dockerfile (Micromamba‑based), and example metadata CSVs.
* **Fast container builds** – Dockerfile starts from `mambaorg/micromamba`, yielding slim images & quick dependency resolution while your host machine can stick with vanilla Conda.
* **One‑command regeneration** – run `./make_cookiecutter.sh` to (re)build the template from scratch, keeping the generator script as the single source of truth.
* **CI‑ready** – template renders cleanly via `cookiecutter --no-input .`; add a GitHub Action to guard against regressions.

---

## 🗂  Directory layout produced

```text
project/
├── src/{{ pkg_name }}/           # Python package (importable)
├── conf/                         # Hydra configs (default/, experiment/)
├── notebooks/
│   ├── exploratory/              # Scratch EDA
│   ├── demos/                    # Polished walkthroughs
│   └── pipelines/                # Papermill‑parameterised
├── data/                         # DVC pointers only
├── metadata/                     # Canonical CSVs (people, projects, deliverables)
├── reference/                    # Goals & supplementary docs (native + Markdown)
├── checklists/                   # YAML/Markdown task lists
├── workflow/                     # Kedro or Snakemake DAG
├── tools/                        # Automation scripts (ClickUp, ELN, …)
├── tests/                        # Pytest suite scaffold
├── docs/                         # MkDocs site stub
├── environment.yml               # Conda env spec (host + container)
├── conda-lock.yml                # Optional lockfile
├── .pre-commit-config.yaml       # Code quality hooks
├── Dockerfile                    # Micromamba‑based
├── dvc.yaml                      # Data pipeline stages
├── CITATION.cff                  # How to cite
└── README.md                     # Project README (template)
```

---

## 🔧 Prerequisites

| Tool             | Version tested | Notes                         |
| ---------------- | -------------- | ----------------------------- |
| **Cookiecutter** | ≥2.2           | `pip install cookiecutter`    |
| **Git**          | any            | for cloning & version control |
| **Conda**        | ≥23            | Miniconda/Anaconda            |
| **Docker**       | optional       | only for container builds     |

You **do not need** `mamba` installed locally – the Dockerfile uses **micromamba** *inside* the container only.

---

## 🚀 Quickstart

```bash
# 1. Generate a new project (local path or GitHub URL both work)
cookiecutter gh:your-org/cookiecutter-python-project

# 2. Answer the prompts (project name, author, license, …)

# 3. Set up the Conda env
cd my_awesome_project
./setup/setup_env.sh --dev
conda activate dev-env

# 4. Dive in!
pytest      # runs the placeholder test
dvc status  # data pipeline scaffold
```

---

## 👷‍♀️ Maintaining the template

### Regenerate skeleton

The template is entirely generated by **`make_cookiecutter.sh`**. When you edit the script:

```bash
./make_cookiecutter.sh            # wipes & recreates template files
pre-commit run --all-files        # optional lint
pytest -q tests/render            # your own CI hook
```

### Local smoke test

```bash
cookiecutter --no-input .         # renders into ./{{cookiecutter.project_slug}}
pytest -q {{cookiecutter.project_slug}}/tests
```

### Release workflow (example)

```bash
git commit -am "Template: add Tox config"
git tag v0.4.0
git push --tags origin main
```

Consumers can then pin a tag:

```bash
cookiecutter gh:your-org/cookiecutter-python-project --checkout v0.4.0
```

---

## 📝 Customisation guide

* **Hydra defaults** – adjust `conf/default/config.yaml` for lab‑wide parameters.
* **Metadata schema** – extend the CSV headers in `metadata/` as canonical sources.
* **Pre‑commit** – add isort, black, ruff, nbstripout, etc.
* **CI** – sample GitHub Actions workflow available in `.github/workflows/` (add one!).
* **Container base** – if you prefer classic Conda images, swap `mambaorg/micromamba` for `continuumio/miniconda3` in the Dockerfile.

---

## 📄 License

This template is released under the **MIT License** (see `LICENSE`).

---

## 🙏 Acknowledgements

Inspired by [https://drivendata.co/blog/cookiecutter-data-science/](https://drivendata.co/blog/cookiecutter-data-science/), the Kedro team, and best practices from the open‑source scientific Python community.

---